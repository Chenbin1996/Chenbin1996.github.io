---
layout:     post
title:      Java自制生成流域、水系、河流编码工具类
subtitle:   Java工具类，生成编码通用工具
date:       2018-04-08
author:     如漩涡
header-img: img/img-1.jpg
catalog: true
tags:
    - Java
---

> 更多文章查看本人CSDN博客 [《如漩涡的博客》](https://blog.csdn.net/m0_37701381)

## 工具类介绍

这个工具类是在河长制项目开发中的一个偶然灵感，由于多个模块需要用到生成编码，而这个编码是有一套规范定好的；而且师傅说这个让他人后续维护时候能够调用，那就封装成了一个通用的工具类，可以做为编码生成器的参考，Copy即用。

```java
/**
 * 自制工具类
 * @author chenbin on 2017/12/20
 * @version 3.0.0
 */
public class HzzCodeUtil {
    
    /**
     * 生成流域编码
     * @param code 传入数据库中最大一位的流域Code，若无传入"" 或者null 则会从第一位 例如“A”开始生成
     * @return 返回生成后的流域编码
     */
    public static String getBasinCode(String code){
        Map<String,String> map = MapFor();
        String newCode;
        if (code == null || code.equals("")){
            newCode = map.get("@");
        }else {
            newCode = map.get(code);
        }
        return newCode;
    }

    /**
     * 生成水系编码
     * @param code 传入数据库中最后一位Code 例如
     *             新增水系时查询出所属流域下的水系 最后一位Code传进来
     * @return 返回生成后的水系编码
     */
    public static String getWaterCode(String code){
        Map<String,String> map = MapFor();
        String newCode;
        String one = code.substring(0,1);
        String two = code.substring(1,2);
        String three = code.substring(2,3);

        if (three.equals("Y")){
            newCode = one + map.get(two) + map.get(three);
        }else {
            newCode = one + two + map.get(three);
        }
        return newCode;
    }

    /**
     * 生成河流编码
     * @param waterCode 传入水系代码
     * @param code 传入 subString(3,7)位的河流四位数
     * @param CodeType 传入河流类型
     * @return 返回生成后的河流编码
     */
    public static String getRiverCode(String waterCode,String code,String CodeType){
        String newCode = waterCode + String.format("%04d",Integer.parseInt(code)+1) + CodeType + "A";
        return newCode;
    }

    public static void main(String[] args) {

    }


    /**
     * 封装遍历工具类 配合生成流域水系Code使用
     * @return 返回一个Map对象
     */
    public static final Map<String, String> MapFor(){
        Map<String ,String > map = new HashMap<>();
        for (int i = 64;i<90;i++){
            if (i==89){
                map.put(String.valueOf((char)i),String.valueOf((char)65));
                break;
            }else if (i==72){
                map.put(String.valueOf((char)i),String.valueOf((char)(i+2)));
            }else if (i==78){
                map.put(String.valueOf((char)i),String.valueOf((char)(i+2)));
            }else if (i==64){
                map.put(String.valueOf((char)i),String.valueOf((char)65));
            }
            else {
                map.put(String.valueOf((char)i),String.valueOf((char)(i+1)));
            }
        }
        return map;
    }
}
```